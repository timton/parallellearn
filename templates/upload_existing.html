{% extends "layout.html" %}

{% block title %}
    Update Existing Project
{% endblock %}

{% block main %}

    {% if existing_projects|length == 0 %}
        <br>
        <p>No existing projects yet.</p>
        <br>
    {% else %}
        <form action="{{ url_for('upload_existing') }}" method="post" enctype="multipart/form-data" id="upload_existing">
            <fieldset>
                <div class="form-group">
                    <label class="sr-only" for="project">Project</label>
                    <input autocomplete="off" autofocus class="form-control"
                           list="projects" name="project" id="project" placeholder="Project (select/type)">
                    <datalist id="projects">
                        {% for project in existing_projects %}
                        <option value='[{{ project["type"] }}] {{ project["title"] }} - {{ project["author"] }} ({{ project["year"] }})'>
                        {% endfor %}
                    </datalist>
                </div>

                <div class="form-group">
                    <label class="sr-only" for="number_of_versions">Language version(s)</label>
                    <input autocomplete="off" autofocus class="form-control" name="number_of_versions"
                           id="number_of_versions" placeholder="Language version(s)"
                           type="number" min="1" id="number_of_versions" value="">
                    <span>   </span>
                    <a href="#" id="add_languages" onclick="addLanguages(1)">Click to select</a>
                    <div class="form-group" id="language_container"></div>
                </div>
                <br />

                <div class="form-group">
                    <input autocomplete="off" autofocus class="form-control" name="file" placeholder="File" type="file"/>
                </div>
                <div class="form-group">
                    <button class="btn btn-default" type="submit">Upload</button>
                </div>
            </fieldset>
        </form>
    {% endif %}

{% endblock %}
